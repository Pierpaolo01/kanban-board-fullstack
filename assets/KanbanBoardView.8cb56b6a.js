import{b as y,a as w,K as $,_ as M}from"./KanbanButton.85bc3646.js";import{o as n,c as i,e as o,d as g,F as C,q as V,b as a,g as x,w as b,t as f,s as I,j,x as U,l as p,i as v,r as N,u as F,y as D,z as E,n as R,h as S,A as K}from"./index.e0ee4fbb.js";import{K as k,c as Z,I as H,_ as L}from"./KanbanModalCreateUpdateTask.vue_vue_type_script_setup_true_lang.6691aed8.js";const z={},W={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},q=o("rect",{width:"6",height:"25",rx:"2",fill:"#635FC7"},null,-1),O=o("rect",{opacity:"0.75",x:"9",width:"6",height:"25",rx:"2",fill:"#635FC7"},null,-1),P=o("rect",{opacity:"0.5",x:"18",width:"6",height:"25",rx:"2",fill:"#635FC7"},null,-1),G=[q,O,P];function J(m,r){return n(),i("svg",W,G)}const T=y(z,[["render",J]]),Q={},X={width:"9",height:"7",viewBox:"0 0 9 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y=o("path",{d:"M1 1L5 5L9 1",stroke:"#635FC7","stroke-width":"2"},null,-1),ee=[Y];function te(m,r){return n(),i("svg",X,ee)}const oe=y(Q,[["render",te]]),le={},ne={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae=o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.846133 0.846133C0.304363 1.3879 0 2.12271 0 2.88889V13.1111C0 13.8773 0.304363 14.6121 0.846133 15.1538C1.3879 15.6957 2.12271 16 2.88889 16H13.1111C13.8773 16 14.6121 15.6957 15.1538 15.1538C15.6957 14.6121 16 13.8773 16 13.1111V2.88889C16 2.12271 15.6957 1.3879 15.1538 0.846133C14.6121 0.304363 13.8773 0 13.1111 0H2.88889C2.12271 0 1.3879 0.304363 0.846133 0.846133ZM1.33333 13.1111V8.44448H9.77781V14.6667H2.88889C2.03022 14.6667 1.33333 13.9698 1.33333 13.1111ZM9.77781 7.11111V1.33333H2.88889C2.47633 1.33333 2.08067 1.49723 1.78895 1.78895C1.49723 2.08067 1.33333 2.47633 1.33333 2.88889V7.11111H9.77781ZM11.1111 5.77778H14.6667V10.2222H11.1111V5.77778ZM14.6667 11.5555H11.1111V14.6667H13.1111C13.5236 14.6667 13.9194 14.5028 14.2111 14.2111C14.5028 13.9194 14.6667 13.5236 14.6667 13.1111V11.5555ZM14.6667 2.88889V4.44445H11.1111V1.33333H13.1111C13.5236 1.33333 13.9194 1.49723 14.2111 1.78895C14.5028 2.08067 14.6667 2.47633 14.6667 2.88889Z",fill:"#828FA3"},null,-1),se=[ae];function de(m,r){return n(),i("svg",ne,se)}const B=y(le,[["render",de]]),re={class:"rounded-lg min-w-[264px] bg-white dark:bg-dark-gray text-gray-medium"},ue={class:"mt-2 p-6"},ie=o("h1",{class:"uppercase mb-5 text-sm"},"all boards (6)",-1),ce={class:"py-3 flex items-center space-x-4"},me=o("span",{class:"text-purple text-md"},"+ create board",-1),pe=g({__name:"TheMobileSidebar",props:{boards:null},setup(m){return(r,h)=>{const e=I("router-link");return n(),i("div",re,[o("div",ue,[ie,o("div",null,[(n(!0),i(C,null,V(m.boards,c=>(n(),x(e,{key:c.id,to:{name:"board",params:{boardId:c.id}},class:"-ml-6 pl-6 text-md py-3 flex rounded-r-full items-center space-x-4 cursor-pointer hover:text-white hover:bg-purple-hover","active-class":"bg-purple text-white"},{default:b(()=>[a(B),o("span",null,f(c.name),1)]),_:2},1032,["to"]))),128))]),o("button",ce,[a(B),me])])])}}}),_e={},he={width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xe=o("rect",{x:"12.7279",width:"3",height:"18",transform:"rotate(45 12.7279 0)",fill:"#828FA3"},null,-1),we=o("rect",{y:"2.12109",width:"3",height:"18",transform:"rotate(-45 0 2.12109)",fill:"#828FA3"},null,-1),be=[xe,we];function fe(m,r){return n(),i("svg",he,be)}const ve=y(_e,[["render",fe]]),Ce={},ge={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ke=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"},null,-1),$e=[ke];function Ve(m,r){return n(),i("svg",ge,$e)}const ye=y(Ce,[["render",Ve]]),Be={class:"text-dark-lines text-sm dark:text-white"},Me=["onClick"],Ie=o("span",null," Remove ",-1),Ne={key:0,class:"flex items-center justify-between space-x-4 mb-3"},Ae=o("span",null," Add ",-1),Ue=g({__name:"KanbanMultipleInputs",props:{modelValue:null,label:null,placeholder:null,buttonText:null},emits:["update:modelValue","remove","add"],setup(m,{emit:r}){const h=m,e=j({get(){return h.modelValue},set(d){r("update:modelValue",d)}}),c=U(!1),s=U("");return(d,t)=>(n(),i("div",null,[o("div",null,[o("label",Be,f(m.label),1),(n(!0),i(C,null,V(p(e),(u,l)=>(n(),i("div",{class:"flex items-center justify-between space-x-4 space-y-3",key:l},[a(w,{placeholder:m.placeholder,modelValue:p(e)[l],"onUpdate:modelValue":_=>p(e)[l]=_,onEnter:_=>p(e)[l]=_},null,8,["placeholder","modelValue","onUpdate:modelValue","onEnter"]),o("button",{class:"flex items-center",onClick:_=>r("remove",l)},[Ie,a(ve,{class:"ml-2 cursor-pointer"})],8,Me)]))),128))]),c.value?(n(),i("div",Ne,[a(w,{name:"NewColumn",placeholder:m.placeholder,modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=u=>s.value=u),onEnter:t[1]||(t[1]=u=>{r("add",s.value),c.value=!1,s.value=""})},null,8,["placeholder","modelValue"]),o("button",{class:"flex items-center",onClick:t[2]||(t[2]=u=>{r("add",s.value),c.value=!1,s.value=""})},[Ae,a(ye,{class:"ml-2 cursor-pointer"})])])):v("",!0),a($,{class:"mt-3",text:m.buttonText,variant:"secondary",onClick:t[3]||(t[3]=u=>c.value=!0)},null,8,["text"])]))}}),Ee={class:"flex flex-col space-y-6 text-black dark:text-white"},He=o("h1",{class:"text-lg"},"Add new board",-1),Te=g({__name:"KanbanModalBoardCreate",emits:["boardCreated"],setup(m,{emit:r}){const h=F(),e=N({name:"",columns:[]}),c=async()=>{try{const s=await k.createBoard(e);r("boardCreated"),await h.push({name:"board",params:{boardId:s.data.data.id}})}catch(s){console.log(s)}};return(s,d)=>(n(),i("div",Ee,[He,a(w,{label:"Board Name",modelValue:e.name,"onUpdate:modelValue":d[0]||(d[0]=t=>e.name=t),placeholder:"e.g. Web Design"},null,8,["modelValue"]),o("div",null,[a(Ue,{modelValue:e.columns,"onUpdate:modelValue":d[1]||(d[1]=t=>e.columns=t),label:"Add column",placeholder:"e.g. Product launch","button-text":"+ add column",onAdd:d[2]||(d[2]=t=>e.columns.push(t)),onRemove:d[3]||(d[3]=t=>e.columns.splice(t,1))},null,8,["modelValue"])]),a($,{text:"Create Board",onClick:c})]))}}),je={class:"flex flex-col space-y-6 text-black dark:text-white"},Fe=o("h1",{class:"text-lg"},"Edit board",-1),Ke=o("label",{class:"text-dark-lines text-sm dark:text-white"}," Columns ",-1),De=["onClick"],Re=["onClick"],Se={key:0,class:"flex justify-between items-center space-x-4"},Ze=g({__name:"KanbanModalUpdateBoard",props:{board:null},emits:["boardUpdated"],setup(m,{emit:r}){const e=N({localBoard:Z(m.board),deletedColumns:[],showNewColumnInput:!1,newColumnValue:"",newColumns:[]}),c=async()=>{console.log(e.newColumns);try{for await(const t of e.deletedColumns)await s(t.id);for await(const t of e.newColumns)await d(t);await k.updateBoard(e.localBoard.id,e.localBoard),r("boardUpdated")}catch(t){console.log(t)}},s=async t=>{try{await k.deleteColumn(e.localBoard.id,t)}catch(u){console.log(u)}},d=async t=>{try{await k.addNewColumn(e.localBoard.id,t)}catch(u){console.log(u)}};return(t,u)=>(n(),i("div",je,[Fe,a(w,{label:"Board Name",modelValue:e.localBoard.name,"onUpdate:modelValue":u[0]||(u[0]=l=>e.localBoard.name=l),placeholder:"e.g. Web Design"},null,8,["modelValue"]),o("div",null,[Ke,(n(!0),i(C,null,V(e.localBoard.Columns.slice().reverse(),l=>(n(),i("div",{key:l.id,class:"flex justify-between items-center space-x-4"},[a(w,{modelValue:l.name,"onUpdate:modelValue":_=>l.name=_},null,8,["modelValue","onUpdate:modelValue"]),o("button",{onClick:_=>{e.deletedColumns.push(l),e.localBoard.Columns.splice(e.localBoard.Columns.indexOf(l),1)},class:"text-red text-sm text-center hover:underline"}," Delete ",8,De)]))),128)),(n(!0),i(C,null,V(e.newColumns,(l,_)=>(n(),i("div",{key:_,class:"flex justify-between items-center space-x-4"},[a(w,{modelValue:e.newColumns[_],"onUpdate:modelValue":A=>e.newColumns[_]=A},null,8,["modelValue","onUpdate:modelValue"]),o("button",{onClick:A=>e.newColumns.splice(_,1),class:"text-red text-sm text-center hover:underline"}," Delete ",8,Re)]))),128)),e.showNewColumnInput?(n(),i("div",Se,[a(w,{modelValue:e.newColumnValue,"onUpdate:modelValue":u[1]||(u[1]=l=>e.newColumnValue=l)},null,8,["modelValue"]),o("button",{onClick:u[2]||(u[2]=l=>{e.newColumns.push(e.newColumnValue),e.newColumnValue="",e.showNewColumnInput=!1}),class:"text-sm text-center w-11 border p-1 rounded-xl border-purple text-purple"}," Add ")])):v("",!0),a($,{class:"mt-4",text:e.showNewColumnInput?"Cancel":"Add new column",variant:e.showNewColumnInput?"destructive":"secondary",onClick:u[3]||(u[3]=l=>{e.showNewColumnInput=!e.showNewColumnInput,e.newColumnValue=""})},null,8,["text","variant"])]),a($,{text:"Save Changes",onClick:c})]))}}),Le={class:"flex flex-row-reverse justify-between w-full h-full relative"},ze={class:"bg-light-mode w-full flex-shrink-1"},We={class:"px-4 py-6 h-16 bg-white dark:bg-dark-gray flex items-center justify-between"},qe={class:"flex items-center space-x-4 md:hidden"},Oe={class:"flex items-center space-x-4 -my-4 py-4 pr-4 border-r border-light-lines dark:border-dark-lines"},Pe=o("h1",{class:"text-xl hidden md:block text-black dark:text-white"}," kanban ",-1),Ge={class:"flex text-black dark:text-white"},Je={class:"text-lg hidden md:flex text-black dark:text-white items-center"},Qe={class:"p-6"},Xe={class:"min-w-[260px] text-gray-medium bg-white dark:bg-dark-gray h-full hidden md:block"},Ye={class:"flex items-center space-x-4 p-4 h-16 border-r border-light-lines dark:border-dark-lines"},et=o("h1",{class:"text-xl hidden md:block text-black dark:text-white"}," kanban ",-1),tt={class:"mt-2 p-6"},ot={class:"uppercase mb-5 text-sm"},lt=o("span",{class:"text-purple text-md"},"+ create board",-1),nt=g({__name:"TheLayout",setup(m){const r=K(),h=F(),e=N({toggleMobileNav:!1,boards:[],openCreateBoardModal:!1,selectedBoard:null,openEditBoardModal:!1,openAddTaskModal:!1}),c=async()=>{try{const d=await k.getAllBoards();e.boards=d.data.data,!r.params.boardId&&e.boards.length&&await h.push({name:"board",params:{boardId:e.boards[0].id}})}catch(d){console.log(d)}},s=j(()=>e.boards.find(d=>d.id===Number(r.params.boardId)));return D(()=>c()),(d,t)=>{const u=I("router-link");return n(),i(C,null,[o("div",Le,[o("div",ze,[o("header",We,[o("div",qe,[o("div",Oe,[a(T),Pe]),o("div",Ge,[o("h1",{class:"text-lg cursor-pointer text-center flex items-center",onClick:t[0]||(t[0]=l=>e.toggleMobileNav=!e.toggleMobileNav)},[E(f(p(s)?p(s).name:"")+" ",1),a(oe,{class:R(["ml-2",e.toggleMobileNav?"rotate-180":""])},null,8,["class"])]),o("button",{class:"ml-4",onClick:t[1]||(t[1]=l=>e.openEditBoardModal=!e.openEditBoardModal)},[a(H)])]),e.toggleMobileNav?(n(),x(pe,{key:0,boards:e.boards,class:"absolute top-16 left-8 z-50"},null,8,["boards"])):v("",!0)]),o("h1",Je,[E(f(p(s)?p(s).name:"")+" ",1),o("button",{class:"ml-4",onClick:t[2]||(t[2]=l=>e.openEditBoardModal=!e.openEditBoardModal)},[a(H)])]),o("div",null,[p(r).name==="board"?(n(),x($,{key:0,text:"+",onClick:t[3]||(t[3]=l=>e.openAddTaskModal=!e.openAddTaskModal)})):v("",!0)])]),o("div",Qe,[S(d.$slots,"default")])]),o("aside",Xe,[o("div",Ye,[a(T),et]),o("div",tt,[o("h1",ot," all boards "+f(e.boards.length),1),o("div",null,[(n(!0),i(C,null,V(e.boards,l=>(n(),x(u,{key:l.id,to:{name:"board",params:{boardId:l.id}},class:"-ml-6 pl-6 text-md py-3 flex rounded-r-full items-center space-x-4 cursor-pointer hover:text-white hover:bg-purple-hover","active-class":"bg-purple rounded-r-full text-white",onClick:_=>e.selectedBoard=l},{default:b(()=>[a(B),o("span",null,f(l.name),1)]),_:2},1032,["to","onClick"]))),128))]),o("button",{class:"py-3 flex items-center space-x-4",onClick:t[4]||(t[4]=l=>e.openCreateBoardModal=!e.openCreateBoardModal)},[a(B),lt])])])]),a(M,{modelValue:e.openCreateBoardModal,"onUpdate:modelValue":t[6]||(t[6]=l=>e.openCreateBoardModal=l),"has-click-away":!1},{default:b(()=>[a(Te,{onBoardCreated:t[5]||(t[5]=l=>{c(),e.openCreateBoardModal=!1})})]),_:1},8,["modelValue"]),a(M,{modelValue:e.openEditBoardModal,"onUpdate:modelValue":t[8]||(t[8]=l=>e.openEditBoardModal=l),"has-click-away":!0},{default:b(()=>[e.openEditBoardModal&&p(s)?(n(),x(Ze,{key:0,board:p(s),onBoardUpdated:t[7]||(t[7]=l=>{c(),e.openEditBoardModal=!1,p(h).go(0)})},null,8,["board"])):v("",!0)]),_:1},8,["modelValue"]),a(M,{modelValue:e.openAddTaskModal,"onUpdate:modelValue":t[10]||(t[10]=l=>e.openAddTaskModal=l)},{default:b(()=>[p(s)?(n(),x(L,{key:0,board:p(s),type:"create",onClose:t[9]||(t[9]=l=>{e.openAddTaskModal=!1,p(h).go(0)})},null,8,["board"])):v("",!0)]),_:1},8,["modelValue"])],64)}}}),rt=g({__name:"KanbanBoardView",setup(m){const r=K();return(h,e)=>{const c=I("RouterView");return n(),x(nt,null,{default:b(()=>[(n(),x(c,{key:String(p(r).params.boardId)}))]),_:1})}}});export{rt as default};
